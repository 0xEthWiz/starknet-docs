<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>More features :: StarkNet documentation</title>
    <link rel="canonical" href="https://docs.starknet.io/documentation/getting_started/more_features/">
    <link rel="prev" href="../constructors/">
    <link rel="next" href="../calling_contracts/">
    <meta name="generator" content="Antora 3.1.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129128514-2"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','UA-129128514-2')</script>
    <script>var uiRootPath = '../../../_'</script>
    <link rel="icon" href="../../../favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- Logo & title -->
      <img src="https://docs.starknet.io/_/img/starknet_logo.png" alt="StarkNet logo" width="40px" height="40px" style="margin-top: 10px">
      <a class="navbar-item" href="https://docs.starknet.io"><strong>StarkNet docs</strong></a>
      <!-- Search Bar -->
        <div class="navbar-item search hide-for-print">
          <div id="search-field" class="field">
            <input id="search-input" type="text" placeholder="Search the docs" >
          </div>
        </div>
      <!-- Mobile burger menu -->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
     <!-- Main nav -->
      <div id="topbar-nav" class="navbar-menu">
        <div class="navbar-end">
          <a class="navbar-item" href="https://docs.starknet.io/documentation/">Introduction</a>
          <a class="navbar-item" href="https://docs.starknet.io/documentation/getting_started/">Getting Started</a>
          <a class="navbar-item" href="https://starknet.io/building-on-starknet/tutorials/" target="_blank">StarkNet Edu</a>
          <a class="navbar-item" href="https://starknet.io/playground/?lesson=starknet_contract" target="_blank">StarkNet Playground</a>
          <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://community.starknet.io/" target="_blank">Community Forum</a>
            <a class="navbar-item" href="http://starknet.io/discord" target="_blank">Discord</a>
            <a class="navbar-item" href="https://twitter.com/StarkWareLtd" target="_blank">Twitter</a>
          </div>
        </div>
        </div>
    </div>
  </nav> 
</header>
<div class="body">
<div class="nav-container" data-component="documentation" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../">StarkNet</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../version_notes/">Version notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Architecture and concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Blocks and transactions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Blocks/header/">Block structure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Blocks/transaction-life-cycle/">Transaction lifecycle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Blocks/transactions/">Transaction structure</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Contracts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Contracts/contract-abi/">Contract ABI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Contracts/contract-address/">Contract address</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Contracts/contract-classes/">Contract classes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Contracts/contract-hash/">Contract hash</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Contracts/contract-storage/">Contract storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Contracts/system-calls/">System calls</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Data availability</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Data_Availability/on-chain-data/">On-chain data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Hashing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Hashing/hash-functions/">Hash functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Events</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Events/starknet-events/">StarkNet events</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Fees</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/Fees/fee-mechanism/">Fee mechanism</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">L1-L2 Communication</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/L1-L2_Communication/messaging-mechanism/">Messaging mechanism</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/L1-L2_Communication/token-bridge/">StarkGate – Token Bridge</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">State</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../architecture_and_concepts/State/starknet-state/">StarkNet state</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../">Getting started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../account_setup/">Setting up a StarkNet account</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../account_setup/#installation">Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../account_setup/#setting-up-the-network">Setting up the network</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../account_setup/#choosing-a-wallet-provider">Choosing a wallet provider</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../account_setup/#creating-an-account">Creating an account</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../account_setup/#transferring-goerli-eth-to-the-account">Transferring Goerli ETH to the account</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../account_setup/#deploying-an-account">Deploying an account</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../intro/">Writing StarkNet contracts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../intro/#your-first-contract">Your first contract</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../intro/#compile-the-contract">Compile the contract</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../intro/#the-contract-s-abi">The contract’s ABI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../intro/#declare-the-contract-on-the-starknet-testnet">Declare the contract on the StarkNet testnet</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../intro/#deploy-the-contract-on-the-starknet-testnet">Deploy the contract on the StarkNet testnet</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../intro/#interact-with-the-contract">Interact with the contract</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../intro/#query-the-balance">Query the balance</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cli/">More CLI commands</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-transaction">get_transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-transaction-receipt">get_transaction_receipt</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-transaction-trace">get_transaction_trace</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#estimate-fee">Estimate fee</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#simulate-transaction">Simulate transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-code">get_code</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-class-by-hash">get_class_by_hash</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-full-contract">get_full_contract</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-class-hash-at">get_class_hash_at</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-block">get_block</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-nonce">get_nonce</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-block-traces">get_block_traces</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-state-update">get_state_update</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cli/#get-storage-at">get_storage_at</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../user_auth/">Adding user authentication</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_auth/#storage-maps">Storage maps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_auth/#getting-the-caller-address">Getting the caller address</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_auth/#modifying-the-contract-s-functions">Modifying the contract’s functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_auth/#compile-and-deploy">Compile and deploy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_auth/#interacting-with-the-contract">Interacting with the contract</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_auth/#retrieving-the-revert-reason">Retrieving the revert reason</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../constructors/">Constructors</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="./">More features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#storage-variable-with-multiple-values">Storage variable with multiple values</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#storage-variable-with-struct-arguments">Storage variable with struct arguments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#array-arguments-in-calldata">Array arguments in calldata</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#passing-tuples-and-structs-in-calldata">Passing tuples and structs in calldata</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#passing-arrays-of-structs">Passing arrays of structs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#retrieving-the-transaction-information">Retrieving the transaction information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#block-number-and-timestamp">Block number and timestamp</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../calling_contracts/">Calling another contract</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../calling_contracts/#getting-the-current-contract-s-address">Getting the current contract’s address</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../calling_contracts/#library-calls">Library calls</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../deploying_from_contracts/">Deploying a contract by another contract</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../deploying_from_contracts/#the-deploy-system-call">The deploy system call</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../deploying_from_contracts/#using-the-contract">Using the contract</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../events/">Events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../l1l2/">Interacting with L1 contracts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../l1l2/#background">Background</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../l1l2/#an-example-of-a-simple-token-bridge">An example of a simple token bridge</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../default_entrypoint/">Default entry point</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit_tests/">Writing unit tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../signature_verification/">Signature verification</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../signature_verification/#compile-and-deploy">Compile and deploy</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../signature_verification/#interacting-with-the-contract">Interacting with the contract</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amm/">A simple Automated Market Maker (AMM)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../amm/#amm-implementation-in-starknet-alpha">AMM implementation in StarkNet Alpha</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../amm/#the-amm-state">The AMM state</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../amm/#swapping-tokens">Swapping tokens</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../amm/#initializing-the-amm">Initializing the AMM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../amm/#interaction-examples">Interaction examples</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tools</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tools/ref_block_explorers/">StarkNet block explorers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tools/CLI/commands/">StarkNet CLI reference</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tools/CLI/starknet-compiler-options/">StarkNet compiler reference</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../useful_info/">Useful info</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../end_of_life_and_deprecated_features/">Deprecated features</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">StarkNet</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../">StarkNet</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../">StarkNet</a></li>
    <li><a href="../">Getting started</a></li>
    <li><a href="./">More features</a></li>
  </ul>
</nav>
<!--
  <div class="edit-this-page"><a href="https://github.com/starknet-io/starknet-docs/edit/HEAD/components/StarkNet/modules/getting_started/pages/more_features.adoc">Edit this Page</a></div>
  -->
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">More features</h1>
<div class="sect1">
<h2 id="storage-variable-with-multiple-values"><a class="anchor" href="#storage-variable-with-multiple-values"></a>Storage variable with multiple values</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A storage variable does not have to be a single field element, it can also be a tuple of several
field elements. For example:</p>
</div>
<div id="storage_var_range" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">// A mapping from user to a pair (min, max).
@storage_var
func range(user: felt) -&gt; (res: (felt, felt)) {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can read and write this value as follows:</p>
</div>
<div id="extend_range" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">@external
func extend_range{
    syscall_ptr: felt*,
    pedersen_ptr: HashBuiltin*,
    range_check_ptr,
}(user: felt) {
    let (min_max) = range.read(user);
    range.write(user, (min_max[0] - 1, min_max[1] + 1));
    return ();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that in this case the <code>range.read()</code> returns one item that is a pair.
Thus, <code>let (min, max) = range.read(user);</code> will not work.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="storage-variable-with-struct-arguments"><a class="anchor" href="#storage-variable-with-struct-arguments"></a>Storage variable with struct arguments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An argument of a storage variable may also be a struct or a tuple, as long as they don’t contain
pointers (such types, that don’t contain pointers, are called felts-only types). For example:</p>
</div>
<div id="storage_var_struct" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">struct User {
    first_name: felt,
    last_name: felt,
}

// A mapping from a user to 1 if they voted and 0 otherwise.
@storage_var
func user_voted(user: User) -&gt; (res: felt) {
}

@external
func vote{
    syscall_ptr: felt*,
    pedersen_ptr: HashBuiltin*,
    range_check_ptr,
}(user: User) {
    user_voted.write(user, 1);
    return ();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="array-arguments-in-calldata"><a class="anchor" href="#array-arguments-in-calldata"></a>Array arguments in calldata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An external function may get an array of field elements as an argument. In order to define an array
named <code>a</code>, pass two consecutive arguments: <code>a_len</code> of type <code>felt</code> and <code>a</code> of type <code>felt*</code> (the
first argument <em>must</em> be named <code>a_len</code> if the second argument is named <code>a</code>). For example:</p>
</div>
<div id="compare_arrays" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">@external
func compare_arrays(
    a_len: felt, a: felt*, b_len: felt, b: felt*
) {
    assert a_len = b_len;
    if (a_len == 0) {
        return ();
    }
    assert a[0] = b[0];
    return compare_arrays(
        a_len=a_len - 1, a=&amp;a[1], b_len=b_len - 1, b=&amp;b[1]
    );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to call <code>compare_arrays</code> with the arrays <code>[10, 20, 30, 40]</code> and <code>[50, 60]</code>,
you should pass the following inputs to <code>starknet invoke</code>:</p>
</div>
<div id="invoke_compare_arrays" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">starknet invoke \
    --address ${CONTRACT_ADDRESS} \
    --abi contract_abi.json \
    --function compare_arrays \
    --inputs 4 10 20 30 40 2 50 60</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first value, <code>4</code>, is the length of the first array, then its 4 entires. After that, we have the
length of the second arrays (<code>2</code>) followed by its entries. Note that calling <code>compare_arrays</code> with
the aforementioned arguments will fail as the arrays are different.</p>
</div>
<div class="paragraph">
<p>A StarkNet contract using array arguments in external functions must have the range_check builtin,
which is used to validate that the array’s length is nonnegative.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="passing-tuples-and-structs-in-calldata"><a class="anchor" href="#passing-tuples-and-structs-in-calldata"></a>Passing tuples and structs in calldata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Calldata arguments and return values may be of any type that does not contain pointers. E.g., structs
with felt members, tuples of felts and tuples of tuples of felts. For example:</p>
</div>
<div id="sum_points" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">struct Point {
    x: felt,
    y: felt,
}

@view
func sum_points(points: (Point, Point)) -&gt; (res: Point) {
    return (
        res=Point(
        x=points[0].x + points[1].x,
        y=points[0].y + points[1].y),
    );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to call <code>sum_points</code> with the points <code>(1, 2), (10, 20)</code>, you should pass the following
inputs to <code>starknet call</code>:</p>
</div>
<div id="call_sum_points" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">starknet call \
    --address ${CONTRACT_ADDRESS} \
    --abi contract_abi.json \
    --function sum_points \
    --inputs 1 2 10 20</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="passing-arrays-of-structs"><a class="anchor" href="#passing-arrays-of-structs"></a>Passing arrays of structs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a similar way, passing arrays of structs is supported, as long as the structs do not contain
pointers:</p>
</div>
<div id="sum_points_arr" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">@external
func sum_points_arr(a_len: felt, a: Point*) -&gt; (res: Point) {
    if (a_len == 0) {
        return (res=Point(0, 0));
    }
    let (res) = sum_points_arr(a_len=a_len - 1, a=&amp;a[1]);
    return (res=Point(x=res.x + a[0].x, y=res.y + a[0].y));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to call <code>sum_points_arr</code> with the 3 points <code>(1, 2), (10, 20), (100, 200)</code>, you should pass
the following inputs to <code>starknet call</code>:</p>
</div>
<div id="call_sum_points_arr" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">starknet call \
    --address ${CONTRACT_ADDRESS} \
    --abi contract_abi.json \
    --function sum_points_arr \
    --inputs 3 1 2 10 20 100 200</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="retrieving-the-transaction-information"><a class="anchor" href="#retrieving-the-transaction-information"></a>Retrieving the transaction information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can retrieve the transaction information (which includes, for example, the signature and the
transaction fee), by using the <code>get_tx_info()</code> library function:</p>
</div>
<div id="get_tx_info_example" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">from starkware.starknet.common.syscalls import get_tx_info

func get_tx_max_fee{syscall_ptr: felt*}() -&gt; (max_fee: felt) {
    let (tx_info) = get_tx_info();

    return (max_fee=tx_info.max_fee);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The returned value is a pointer to a <code>TxInfo</code> struct, which is defined as follows:</p>
</div>
<div id="get_tx_info_struct" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">struct TxInfo {
    // The version of the transaction. It is fixed (currently, 1) in the OS, and should be
    // signed by the account contract.
    // This field allows invalidating old transactions, whenever the meaning of the other
    // transaction fields is changed (in the OS).
    version: felt,

    // The account contract from which this transaction originates.
    account_contract_address: felt,

    // The max_fee field of the transaction.
    max_fee: felt,

    // The signature of the transaction.
    signature_len: felt,
    signature: felt*,

    // The hash of the transaction.
    transaction_hash: felt,

    // The identifier of the chain.
    // This field can be used to prevent replay of testnet transactions on mainnet.
    chain_id: felt,

    // The transaction's nonce.
    nonce: felt,
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="block-number-and-timestamp"><a class="anchor" href="#block-number-and-timestamp"></a>Block number and timestamp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can get the current block number and timestamp (seconds since unix epoch) by using the
<code>get_block_number()</code> and <code>get_block_timestamp()</code> library functions.</p>
</div>
<div id="get_block_params" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cairo hljs" data-lang="cairo">from starkware.starknet.common.syscalls import (
    get_block_number,
    get_block_timestamp,
)

// ...

let (block_number) = get_block_number();
let (block_timestamp) = get_block_timestamp();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that both of the above functions require the implicit argument <code>syscall_ptr</code>. Presently, the
result of <code>get_block_timestamp()</code> is not enforced by the StarkNet OS or Core contract (i.e.,
the sequencer may choose an arbitrary timestamp). In the future, some restrictions on the new
timestamp will be added. Also note that the block timestamp is the time at the beginning of the block
creation, which can differ significantly from the time the block is accepted on L1.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../constructors/">Constructors</a></span>
  <span class="next"><a href="../calling_contracts/">Calling another contract</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
<!--  <p>&copy; 2020-2022 StarkWare Industries</p> -->
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: { inlineMath: [["\\(", "\\)"]], displayMath: [["\\[", "\\]"]], ignoreClass: "nostem|nolatexmath" },
  asciimath2jax: { delimiters: [["\\$", "\\$"]], ignoreClass: "nostem|noasciimath" },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
  </body>
</html>
